<!DOCTYPE html>
<head>
	<meta http-equiv="Content-type" content="text/html; charset=utf-8">
	<title>roar</title>
	
	<script src="//ajax.googleapis.com/ajax/libs/jquery/1.6.2/jquery.min.js" type="text/javascript"></script>
	<script src="/socket.io/socket.io.js"></script>
	<script type="text/javascript" charset="utf-8">
		
		var socket = io.connect("http://localhost:8080");
		
		$(document).ready(function() {
			
			$("#chat-form").submit(sendChat);
			$("#chat-form").hide();
			
			
			// Manage default text.
			$(".default-text").focus(function(srcc)
		    {
		        if ($(this).val() == $(this)[0].title)
		        {
		            $(this).removeClass("default-text-active");
		            $(this).val("");
		        }
		    });

		    $(".default-text").blur(function()
		    {
		        if ($(this).val() == "")
		        {
		            $(this).addClass("default-text-active");
		            $(this).val($(this)[0].title);
		        }
		    });
			
		    $(".default-text").blur();
			
			
		});
		
		
		function sendChat(event) {
			
			chatTextElement = $("#chat-text");
			
			if(chatTextElement.val() == "") {
				if(event!=null) event.preventDefault();
				return;
			}
			
			socket.emit("message", {text:chatTextElement.val()});
			chatTextElement.val("");
			
			if(event!=null) event.preventDefault();
		}
		
	</script>
	
	<style type="text/css" media="screen">
		
		body {
			background-color: black;
			margin: 0px;
		}
		
		#roar-bar {
			background-color: #928B33;
			
			background: -webkit-gradient(linear, left top, left bottom, from(#928B33), to(#413D1B)); /* for webkit browsers */
			background: -moz-linear-gradient(top,  #928B33,  #413D1B); /* for firefox 3.6+ */
			
			position: fixed;
			bottom: 20%;
			
			width: 100%;
			height: 50px;
			
			color: #FEFAD1;
			
			font-family: Helvetica, sans-serif;
			
			border-top: 1px solid #B3B5B8;
		}
		
		#roar-bar div {
			border-right: 1px solid #B3B5B8;
			height: 100%;
			float: left;
		}
		
		#logo {
			padding-top: 7px;
			
			font-weight: bold;
			font-size: 2em;
			width: 108px;
			text-align: center;
		}
		
		#chat {
			width: 366px;
			padding-left: 11px;
			padding-top: 11px;
			
			font-size: 1.0em;
		}
		
		#chat-form input {
			width: 350px;
			
		}
		
		#name {
			
		}
		

		#roar-bar .button {
			width: 70px;
			text-align: center;
			font-size: 1.3em;
			font-variant: small-caps;
			font-weight: bold;
			padding-top: 10px;
			
			text-shadow: 1px 1px 0px #111;
		}
		
		#roar-bar .button:active{
/*			background-color: #413D1B;*/
			
			background: -webkit-gradient(linear, left top, left bottom, from(#413D1B), to(#928B33)); /* for webkit browsers */
			background: -moz-linear-gradient(top,  #413D1B,  #928B33); /* for firefox 3.6+ */
		}
		
		#identity-form input {
			width: 100px;
			float: left;
		}

		/* Using this approach: http://www.dailycoding.com/Posts/default_text_fields_using_simple_jquery_trick.aspx */
	    .default-text { }
	    .default-text-active { color: #a1a1a1; font-style: italic; }
		
	</style>
	
</head>
<body>


<div id="roar-bar">
<div id="logo">ROAR</div>

<div id="chat">
<form id="chat-form">
	<input type="text" name="chat-input" value="" id="chat-input">
</form>

<form id="identity-form">
	<input type="text" name="name" title="your nickname?" value="" id="name"class="default-text">
	<input type="button" name="submit_name" value="set nickname" id="submit_name">
</form>

</div>
<div id="chat-button" class="button">
chat
</div>
<div id="shout-button" class="button">
shout
</div>


</div>

</body>
</html>